
import{d as r,e as l}from"./_oschunk-4T4POR5S.js";import{S as c,a as u}from"./_oschunk-344SHXOK.js";var e=c,a=class a extends e.Controller.BaseController{getDefaultTimeout(){return l.defaultTimeout}get handleError(){return this.hasOwnProperty("_handleError")||(this._handleError=function(i,o){var m=this.controller;return e.Logger.startActiveSpan("OnException",function(n){n&&(n.setAttribute("code.function","OnException"),n.setAttribute("outsystems.function.key","1a118907-e7fa-4938-90a2-703c8abe0fca.#FlowExceptionHandler"),n.setAttribute("outsystems.function.owner.name","ZXingLibDemo"),n.setAttribute("outsystems.function.owner.key","61918b7a-e496-4b63-992b-b83299b21e43"),n.setAttribute("outsystems.function.type","CLIENT_EXCEPTION_HANDLER"));try{var b=new e.DataTypes.VariableHolder(new e.DataTypes.ErrorHandlerOutputType),g=new e.DataTypes.VariableHolder(new e.DataTypes.ErrorHandlerOutputType),f=new e.DataTypes.VariableHolder(new e.DataTypes.ErrorHandlerOutputType),E=new e.DataTypes.VariableHolder(new e.DataTypes.ErrorHandlerOutputType);if(e.Logger.debug("Common.OnException",e.Exceptions.getMessage(i)),e.ErrorHandling.ignoreError(i,o))return e.ErrorHandling.IGNORED_ERROR_RESULT;try{if(e.Logger.debug("Common.OnException",e.Exceptions.getMessage(i)),e.Exceptions.isInstanceOf(i,e.Exceptions.Exceptions.SecurityException))return b.value.exceptionMessageAttr=e.Exceptions.getMessage(i),e.Logger.startActiveSpan("SecurityException",function(t){t&&(t.setAttribute("code.function","SecurityException"),t.setAttribute("outsystems.function.key","1db0d2fa-26aa-479a-9520-99a3a5d75a3a"),t.setAttribute("outsystems.function.owner.name","ZXingLibDemo"),t.setAttribute("outsystems.function.owner.key","61918b7a-e496-4b63-992b-b83299b21e43"),t.setAttribute("outsystems.function.type","CLIENT_EXCEPTION_HANDLER"));try{return e.BuiltinFunctions.getUserId().toString()!==e.BuiltinFunctions.nullTextIdentifier()?e.Navigation.navigateTo(e.Navigation.generateScreenURL("ZXingLibDemo","InvalidPermissions",{}),e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default),o,!0):(r.setLastURL(e.BuiltinFunctions.getBookmarkableURL()),e.Navigation.navigateTo(e.Navigation.generateScreenURL("ZXingLibDemo","Login",{}),e.Transitions.createTransition(e.Transitions.TransitionAnimation.Default),o,!0))}finally{t&&t.end()}},1);if(e.Exceptions.isInstanceOf(i,e.Exceptions.Exceptions.DataBaseException))return e.Logger.error(null,i,null,null,1),f.value.exceptionMessageAttr=e.Exceptions.getMessage(i),e.Logger.startActiveSpan("DataBaseException",function(t){t&&(t.setAttribute("code.function","DataBaseException"),t.setAttribute("outsystems.function.key","44c56eca-8792-4354-8872-391470dce2a3"),t.setAttribute("outsystems.function.owner.name","ZXingLibDemo"),t.setAttribute("outsystems.function.owner.key","61918b7a-e496-4b63-992b-b83299b21e43"),t.setAttribute("outsystems.function.type","CLIENT_EXCEPTION_HANDLER"));try{e.FeedbackMessageService.showFeedbackMessage("There was a problem with the database request. Please contact the administrator",3),r.setIsLoading(!1);return}finally{t&&t.end()}},1);if(e.Exceptions.isInstanceOf(i,e.Exceptions.Exceptions.CommunicationException))return e.Logger.error(null,i,null,null,1),E.value.exceptionMessageAttr=e.Exceptions.getMessage(i),e.Logger.startActiveSpan("CommunicationException",function(t){t&&(t.setAttribute("code.function","CommunicationException"),t.setAttribute("outsystems.function.key","9f3a4c50-96da-4e7b-99b9-25a7b45412e3"),t.setAttribute("outsystems.function.owner.name","ZXingLibDemo"),t.setAttribute("outsystems.function.owner.key","61918b7a-e496-4b63-992b-b83299b21e43"),t.setAttribute("outsystems.function.type","CLIENT_EXCEPTION_HANDLER"));try{e.FeedbackMessageService.showFeedbackMessage("There was a problem communicating with the server. Please try again or contact your administrator",3),r.setIsLoading(!1);return}finally{t&&t.end()}},1);if(!e.Exceptions.isSystem(i))return e.Logger.error(null,i,null,null,1),g.value.exceptionMessageAttr=e.Exceptions.getMessage(i),e.Logger.startActiveSpan("AllExceptions",function(t){t&&(t.setAttribute("code.function","AllExceptions"),t.setAttribute("outsystems.function.key","22e99060-a32a-4cfa-acb6-7bd2cacb7ce1"),t.setAttribute("outsystems.function.owner.name","ZXingLibDemo"),t.setAttribute("outsystems.function.owner.key","61918b7a-e496-4b63-992b-b83299b21e43"),t.setAttribute("outsystems.function.type","CLIENT_EXCEPTION_HANDLER"));try{e.FeedbackMessageService.showFeedbackMessage("There was a problem. Please contact the administrator",3),r.setIsLoading(!1);return}finally{t&&t.end()}},1);throw i}catch(t){return e.Logger.debug("Common.OnException",e.Exceptions.getMessage(i)),e.ErrorHandling.defaultErrorHandler(t,o)}}finally{n&&n.end()}},1)}),this._handleError}set handleError(i){this._handleError=i}};u(a,"Controller");var s=a,L=new s;export{L as a};
